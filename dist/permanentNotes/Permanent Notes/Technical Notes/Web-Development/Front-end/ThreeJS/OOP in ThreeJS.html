<html>
  
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="../../../../../style.css">
    <base target="_parent">
  </head>
  
  <body class="ck-content">
     <h1>OOP in ThreeJS</h1>

    
<h2>OOP in ThreeJS</h2>
    <p>Making the code more re-usable and partitioned to use.&nbsp;</p>
    <h5>Example (global canvas class)</h5>
    <p>The most useful example is to just create a class to manage the window
      resizing and allows reference to the canvas sizes</p><pre><code class="language-text-plain">export default class Sizes
{
    constructor()
    {
        // Setup
        this.width = window.innerWidth
        this.height = window.innerHeight
        this.pixelRatio = Math.min(window.devicePixelRatio, 2)
        
        // Resize event
        window.addEventListener('resize', () =&gt;
        {
            this.width = window.innerWidth
            this.height = window.innerHeight
            this.pixelRatio = Math.min(window.devicePixelRatio, 2)
        })
    }
}</code></pre>
    <h2>Accessing objects tips</h2>
    <p>In threeJS you will be manipulating a lot of objects. Some objects will
      need to accessed very frequently. Having a bunch of random references can
      get quite messy. So here are a few tips to better reference common objects</p>
    <h3>Making a global class instance</h3>
    <p>Pretty sure there are some things you want to be globally accessible like
      the camera, renderer and canvas. to make it global in a class just do&nbsp;</p><pre><code class="language-text-plain">class someClass{
	constructor(){
		window.varName = this;
	}
}</code></pre>
    <p>This will not please everyone as global variables can get buggy in much
      larger projects</p>
    <h3>Making a singleton</h3>
    <p>Best compromise solution of the above without dirtying a much larger project
      with global variables</p><pre><code class="language-text-plain">let instance = null

export default class Experience
{
    constructor(canvas)
    {
        // Singleton
        if(instance)
        {
            return instance
        }
        instance = this
  
    }

}</code></pre>
    <h2>Common objects you can create</h2>
    <ul>
      <li>Canvas resize class; like above. but you can create an all render and
        canvas class</li>
      <li>time class: to handle runtime and delta time</li>
      <li>world class: to contain all the objects in side (prevents crowding the
        experience class);</li>
    </ul>
    <hr>
    <ul>
      <li>hoping to create something similar to unity's ECS where it's a bunch of
        objects and monobehaviours.&nbsp;</li>
    </ul>
  </body>

</html>