<html>
  
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="../../../../../style.css">
    <base target="_parent">
  </head>
  
  <body class="ck-content">
     <h1>FirebaseServerFucntions</h1>

    
<h2><strong>Firebase Functions</strong></h2>
    <p>===================================================================</p>
    <p>source: <a href="https://firebase.google.com/docs/functions/local-emulator">https://firebase.google.com/docs/functions/local-emulator</a>
    </p>
    <h3>What is this</h3>
    <p>Basically creating restAPI with firebase.</p>
    <h3>Setup</h3>
    <p>install dependencies</p><pre><code class="language-text-plain">npm install -g firebase-tools
</code></pre>
    <p>using the firebase tools</p>
    <p>login: <code>firebase login</code>
    </p>
    <p>init functions: <code>firebase init functions</code>
    </p>
    <p>the above will start a firebase fucntion boilerplate</p>
    <p>Deploying functions: <code>firebase deploy --only functions</code>
    </p>
    <h3>Boilerplate</h3><pre><code class="language-text-plain">// Firestore under the path /messages/:documentId/original
exports.addMessage = functions.https.onRequest(async (req, res) =&gt; {
  // Grab the text parameter.
  const original = req.query.text;

  res.json({result: `Message with ID: ${writeResult.id} added.`});
});
</code></pre>
    <p>Handle url parameters with by appending <code>?=parameterName=value</code>
    </p>
    <h3>Testing</h3>
    <p>Start a local firebase server emulator here</p><pre><code class="language-text-plain">firebase emulators:start
</code></pre>
    <p>It will provide you a link to test your url functions.</p>
    <h3>Working with Express and CORS</h3><pre><code class="language-text-plain">const functions = require('firebase-functions');
const express = require('express');
const cors = require('cors')({origin: true});
const app = express();

app.use(cors);
app.use(cookieParser);
app.use(validateFirebaseIdToken);
app.get('/hello', (req, res) =&gt; {
  // response code goes here.
  res.send(`Hello`);
});
</code></pre>

  </body>

</html>